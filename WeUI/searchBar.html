<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
	<title>searchBar</title>
	<link rel="stylesheet" type="text/css" href="css/weui.css">
	<script type="text/javascript" src="js/jquery.min.js"></script>
</head>

<!-- 要触发按钮的active态 在body上加ontouchstart全局触发 -->
<body ontouchstart>	
	<div class="weui_cell"></div>
	<!-- 搜索框 -->		
	<div class="weui_search_bar" id="search_bar">
        <form class="weui_search_outer">
           <div class="weui_search_inner">
               <i class="weui_icon_search"></i>
               <input type="search" class="weui_search_input" id="search_input" placeholder="搜索" required="">
               <a href="javascript:" class="weui_icon_clear" id="search_clear"></a>
           </div>
           <label for="search_input" class="weui_search_text" id="search_text">
               <i class="weui_icon_search"></i>
               <span>搜索</span>
           </label>
       </form>
       <a href="javascript:" class="weui_search_cancel" id="search_cancel">取消</a>
    </div>    
	<!-- 实时搜索下拉列表 -->
	<div class="weui_cells weui_cells_access search_show" id="search_show" style="display:none;">
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
        <div class="weui_cell">
            <div class="weui_cell_bd weui_cell_primary">
                <p>实时搜索文本</p>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
	$(document).ready(function(){
       
        $(document).on('focus', '#search_input', function () {                
            $('#search_bar').addClass('weui_search_focusing');
        }).on('blur', '#search_input', function () {                
            $('#search_bar').removeClass('weui_search_focusing');
            if ($(this).val()) {
                $('#search_text').hide();
            } else {
                $('#search_text').show();
            }
        }).on('input', '#search_input', function () {                
            if ($(this).val()) {
                $("#search_show").show();
            } else {
                $("#search_show").hide();
            }
        }).on('touchend', '#search_cancel', function () {
            $("#search_show").hide();
            $('#search_input').val('');
        }).on('touchend', '#search_clear', function () {
            $("#search_show").hide();
            $('#search_input').val('');
        });       
    
	});
</script>
</html>